@inherits Umbraco.Cms.Web.Common.Macros.PartialViewMacroPage
@using ContentModels = Umbraco.Cms.Web.Common.PublishedModels;

@{
    var pageId = Model.MacroParameters["menuPage"].ToString();
    var numberofitem = Convert.ToInt32(Model.MacroParameters["numberofitem"].ToString());

    var myPage = Umbraco.Content(pageId);
    var myMenus = myPage.Children().Where(x => x.IsVisible()).Take(numberofitem);
}   

<section class="ftco-section">
    <div class="container">
        <div class="row justify-content-center mb-5 pb-2">
            <div class="col-md-7 text-center heading-section ftco-animate">
                <span class="subheading">Specialties</span>
                <h2 class="mb-4">Our Menu</h2>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 col-lg-4 menu-wrap">
                <div class="heading-menu text-center ftco-animate">
                    <h3>Breakfast</h3>
                </div>
                @foreach (ContentModels.Meal item in myMenus)
                {
                    @if (item.MenuType == "Breakfast")
                    {
                        <div class="menus d-flex ftco-animate">
                            <div class="menu-img img" style="background-image: url(@item.MealImage.Url());"></div>
                            <div class="text">
                                <div class="d-flex">
                                    <div class="one-half">
                                        <h3>@item.MealName</h3>
                                    </div>
                                    <div class="one-forth">
                                        <span class="price">@item.MealPrice</span>
                                    </div>
                                </div>
                                <p>
                                    @foreach (var tag in item.MealContent)
                                    {
                                        <span>@tag</span>
                                    }
                                </p>
                            </div>
                        </div>
                    }
                }
            </div>
            <div class="col-md-6 col-lg-4 menu-wrap">

                <div class="heading-menu text-center ftco-animate">
                    <h3>Lunch</h3>
                </div>

                @foreach (ContentModels.Meal item in myMenus)
                {
                    @if (item.MenuType == "Lunch")
                    {
                        <div class="menus d-flex ftco-animate">
                            <div class="menu-img img" style="background-image: url(@item.MealImage.Url());"></div>
                            <div class="text">
                                <div class="d-flex">
                                    <div class="one-half">
                                        <h3>@item.MealName</h3>
                                    </div>
                                    <div class="one-forth">
                                        <span class="price">@item.MealPrice</span>
                                    </div>
                                </div>
                                <p>
                                    @foreach (var tag in item.MealContent)
                                    {
                                        <span>@tag</span>
                                    }
                                </p>
                            </div>
                        </div>
                    }
                }
            </div>

            <div class="col-md-6 col-lg-4 menu-wrap">
                <div class="heading-menu text-center ftco-animate">
                    <h3>Dinner</h3>
                </div>

                @foreach (ContentModels.Meal item in myMenus)
                {
                    @if (item.MenuType == "Dinner")
                    {
                        <div class="menus d-flex ftco-animate">
                            <div class="menu-img img" style="background-image: url(@item.MealImage.Url());"></div>
                            <div class="text">
                                <div class="d-flex">
                                    <div class="one-half">
                                        <h3>@item.MealName</h3>
                                    </div>
                                    <div class="one-forth">
                                        <span class="price">@item.MealPrice</span>
                                    </div>
                                </div>
                                <p>
                                    @foreach (var tag in item.MealContent)
                                    {
                                        <span>@tag</span>
                                    }
                                </p>
                            </div>
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</section>